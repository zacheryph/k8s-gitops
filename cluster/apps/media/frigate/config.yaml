mqtt:
  host: vernemq.home-assistant
  user: "{FRIGATE_MQTT_USERNAME}"
  password: "{FRIGATE_MQTT_PASSWORD}"

database:
  path: /data/frigate.db

detectors:
  cpu1:
    type: cpu

objects:
  track:
  - person
  - bicycle
  - car
  - motorcycle
  - cat
  - dog

timestamp_style:
  format: "%Y-%m-%d %H:%M:%S"

record:
  enabled: True
  retain_days: 30
  events:
    retain:
      default: 365

cameras:
  north_yard:
    detect:
      width: 640
      height: 480
      fps: 7

    ffmpeg:
      inputs:
      - path: "http://{FRIGATE_CAM_NORTH_ADDRESS}/flv?port=1935&app=bcs&stream=channel0_main.bcs&user=frigate&password={FRIGATE_CAM_NORTH_PASSWORD}"
        roles:
        - record
        - rtmp
      - path: "http://{FRIGATE_CAM_NORTH_ADDRESS}/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user=frigate&password={FRIGATE_CAM_NORTH_PASSWORD}"
        roles:
        - detect
      input_args:
      - -avoid_negative_ts
      - make_zero
      - -fflags
      - nobuffer+genpts+discardcorrupt
      - -flags
      - low_delay
      - -strict
      - experimental
      - -analyzeduration
      - 1000M
      - -probesize
      - 1000M
      - -rw_timeout
      - "5000000"
      output_args:
        record: -f segment -segment_time 60 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c copy
