apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: knative-certificate
  namespace: knative-serving
spec:
  secretName: knative-certificate
  duration: 2160h
  renewBefore: 360h
  subject:
    organizations:
    - ${ORGANIZATION_NAME}
  commonName: ${KNATIVE_DOMAIN}
  dnsNames:
  - "${KNATIVE_DOMAIN}"
  - "*.${KNATIVE_DOMAIN}"
  - "*.api.${KNATIVE_DOMAIN}"
  - "*.tekton-pipelines.${KNATIVE_DOMAIN}"
  issuerRef:
    kind: ClusterIssuer
    name: letsencrypt-cloudflare
